<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FraudShield - AI-Powered Fraud Detection</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/three@0.158.0/build/three.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --font-inter: 'Inter', sans-serif;
            --font-mono: 'JetBrains Mono', monospace;
        }

        .cyber-bg {
            background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 50%, #0f0f0f 100%);
        }

        .cyber-grid {
            background-image:
                linear-gradient(rgba(251, 191, 36, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(251, 191, 36, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
        }

        .cyber-glow {
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.3);
        }

        .cyber-text-glow {
            text-shadow: 0 0 10px rgba(251, 191, 36, 0.5);
        }

        .cyber-card {
            background: linear-gradient(145deg, #1a1a1a 0%, #2a2a2a 100%);
            border: 1px solid rgba(251, 191, 36, 0.2);
            transition: all 0.3s ease;
        }

        .cyber-card:hover {
            transform: translateY(-10px) rotateX(5deg);
            box-shadow: 0 20px 40px rgba(251, 191, 36, 0.2);
        }

        .cyber-button {
            background: linear-gradient(45deg, #f59e0b, #fbbf24);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .cyber-button:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .cyber-button:hover:before {
            left: 100%;
        }

        .btn-cyber {
            background: linear-gradient(45deg, #f59e0b, #fbbf24);
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.4);
        }

        .glow-text {
            text-shadow: 0 0 10px rgba(251, 191, 36, 0.8);
        }

        .bg-dark-900 { background-color: #0f0f0f; }
        .bg-dark-800 { background-color: #1a1a1a; }
        .bg-dark-700 { background-color: #2a2a2a; }
        .text-primary-400 { color: #fbbf24; }
        .text-primary-500 { color: #f59e0b; }
        .text-primary-600 { color: #d97706; }
        .border-dark-800 { border-color: #1a1a1a; }
        .border-dark-600 { border-color: #2a2a2a; }
    </style>
</head>
<body class="font-sans antialiased min-h-screen bg-dark-900 text-white overflow-x-hidden">
    <!-- Animated Background Grid -->
    <div class="fixed inset-0 cyber-grid opacity-20 animate-pulse"></div>

    <!-- 3D Canvas Background -->
    <canvas id="threejs-canvas" class="fixed inset-0 w-full h-full -z-10"></canvas>

    <!-- Navigation -->
    <nav class="relative z-50 p-6 bg-dark-900/90 backdrop-blur-sm border-b border-dark-800">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <!-- Logo -->
            <div class="flex items-center space-x-2 group">
                <div class="p-2 bg-gradient-to-br from-primary-400 to-primary-600 rounded-lg group-hover:scale-110 transition-transform duration-200">
                    <svg class="h-6 w-6 text-dark-900" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM10 17L6 13L7.41 11.59L10 14.17L16.59 7.58L18 9L10 17Z"/>
                    </svg>
                </div>
                <span class="text-xl font-bold text-white group-hover:text-primary-400 transition-colors">
                    FraudShield
                </span>
            </div>

            <!-- Navigation Links -->
            <div class="hidden md:flex items-center space-x-8">
                <a href="/" class="text-gray-300 hover:text-primary-400 transition-colors">Home</a>
                <a href="/demo" class="text-gray-300 hover:text-primary-400 transition-colors">Demo</a>
                <a href="/#features" class="text-gray-300 hover:text-primary-400 transition-colors">Features</a>
                <a href="/#about" class="text-gray-300 hover:text-primary-400 transition-colors">About</a>
            </div>

            <!-- CTA Buttons -->
            <div class="flex items-center space-x-4">
                <button onclick="analyzeTransaction()" class="text-gray-300 hover:text-primary-400 transition-colors">
                    Try Demo
                </button>
                <button class="cyber-button px-6 py-2 text-black font-semibold rounded-lg">
                    Get Started
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="relative z-10 min-h-screen flex items-center">
        <div class="max-w-7xl mx-auto px-6 py-20">
            <div class="grid md:grid-cols-2 gap-12 items-center">
                <!-- Left Content -->
                <div class="space-y-8">
                    <h1 class="text-5xl md:text-7xl font-bold leading-tight cyber-text-glow">
                        AI-Powered <span class="text-primary-400">Fraud Detection</span>
                    </h1>
                    <p class="text-xl text-gray-300 leading-relaxed">
                        Protect your business with cutting-edge machine learning technology.
                        Real-time transaction analysis with 99.7% accuracy.
                    </p>
                    <div class="flex space-x-4">
                        <button onclick="analyzeTransaction()" class="cyber-button px-8 py-4 text-black font-semibold rounded-lg text-lg">
                            Try Live Demo
                        </button>
                        <button class="px-8 py-4 border-2 border-primary-500 text-primary-400 hover:bg-primary-500 hover:text-dark-900 transition-all rounded-lg">
                            View Features
                        </button>
                    </div>

                    <!-- Stats -->
                    <div class="grid grid-cols-3 gap-8 mt-12">
                        <div class="text-center">
                            <div class="text-3xl font-bold text-primary-400">99.7%</div>
                            <div class="text-gray-400">Accuracy</div>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl font-bold text-primary-400"><50ms</div>
                            <div class="text-gray-400">Response Time</div>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl font-bold text-primary-400">24/7</div>
                            <div class="text-gray-400">Protection</div>
                        </div>
                    </div>
                </div>

                <!-- Right Content - Transaction Analysis Form -->
                <div class="cyber-card p-6 rounded-xl cyber-glow">
                    <h3 class="text-2xl font-bold text-primary-400 mb-6">Live Transaction Analysis</h3>

                    <!-- Transaction Form -->
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm text-gray-400 mb-2">Transaction Amount (₹)</label>
                            <input type="number" id="amount" value="1250" step="0.01" min="0" class="w-full bg-dark-700 border border-primary-500/30 rounded-lg px-4 py-3 text-white focus:border-primary-400 transition-colors">
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm text-gray-400 mb-2">Merchant Category</label>
                                <select id="merchant_category" class="w-full bg-dark-700 border border-primary-500/30 rounded-lg px-4 py-3 text-white">
                                    <option value="online">Online</option>
                                    <option value="grocery">Grocery</option>
                                    <option value="gas">Gas Station</option>
                                    <option value="restaurant">Restaurant</option>
                                    <option value="retail">Retail</option>
                                    <option value="atm">ATM</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm text-gray-400 mb-2">Location Risk (0-1)</label>
                                <input type="number" id="location_risk_score" value="0.3" step="0.01" min="0" max="1" class="w-full bg-dark-700 border border-primary-500/30 rounded-lg px-4 py-3 text-white focus:border-primary-400 transition-colors">
                            </div>
                        </div>
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <label class="block text-sm text-gray-400 mb-2">Hour (0-23)</label>
                                <input type="number" id="hour" value="14" min="0" max="23" class="w-full bg-dark-700 border border-primary-500/30 rounded-lg px-4 py-3 text-white focus:border-primary-400 transition-colors">
                            </div>
                            <div>
                                <label class="block text-sm text-gray-400 mb-2">Customer Age</label>
                                <input type="number" id="customer_age" value="32" min="18" max="100" class="w-full bg-dark-700 border border-primary-500/30 rounded-lg px-4 py-3 text-white focus:border-primary-400 transition-colors">
                            </div>
                            <div>
                                <label class="block text-sm text-gray-400 mb-2">Payment Method</label>
                                <select id="payment_method" class="w-full bg-dark-700 border border-primary-500/30 rounded-lg px-4 py-3 text-white">
                                    <option value="upi">UPI</option>
                                    <option value="card">Card</option>
                                    <option value="mobile">Mobile</option>
                                    <option value="online">Online Banking</option>
                                </select>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm text-gray-400 mb-2">Monthly Transaction Frequency</label>
                            <input type="number" id="transaction_frequency" value="5" min="1" max="100" class="w-full bg-dark-700 border border-primary-500/30 rounded-lg px-4 py-3 text-white focus:border-primary-400 transition-colors">
                        </div>

                        <button onclick="analyzeTransaction()" class="cyber-button w-full py-3 text-black font-semibold rounded-lg" id="analyze-btn">
                            Analyze Transaction
                        </button>
                    </div>

                    <!-- Results Display -->
                    <div id="results-section" class="mt-6 p-4 bg-green-900/20 border border-green-500/30 rounded-lg">
                        <div class="flex justify-between items-center">
                            <span id="fraud-status" class="text-green-400 font-semibold">✅ Low Risk</span>
                            <span id="fraud-probability" class="text-2xl font-bold text-green-400">15%</span>
                        </div>
                        <div id="risk-factors" class="text-sm text-gray-400 mt-2">
                            Standard transaction patterns detected
                        </div>
                        <div id="analysis-time" class="text-xs text-gray-500 mt-2"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="relative z-10 py-20 bg-dark-800/50">
        <div class="max-w-7xl mx-auto px-6">
            <h2 class="text-4xl font-bold text-center mb-12 cyber-text-glow">
                Advanced <span class="text-primary-400">Security Features</span>
            </h2>

            <div class="grid md:grid-cols-3 gap-8">
                <!-- Feature 1 -->
                <div class="cyber-card p-6 rounded-xl">
                    <div class="text-4xl mb-4">🤖</div>
                    <h3 class="text-xl font-bold text-primary-400 mb-4">AI-Powered Detection</h3>
                    <p class="text-gray-300">Advanced machine learning algorithms analyze transaction patterns in real-time.</p>
                </div>

                <!-- Feature 2 -->
                <div class="cyber-card p-6 rounded-xl">
                    <div class="text-4xl mb-4">⚡</div>
                    <h3 class="text-xl font-bold text-primary-400 mb-4">Real-Time Analysis</h3>
                    <p class="text-gray-300">Get instant fraud risk assessments with sub-50ms response times.</p>
                </div>

                <!-- Feature 3 -->
                <div class="cyber-card p-6 rounded-xl">
                    <div class="text-4xl mb-4">📊</div>
                    <h3 class="text-xl font-bold text-primary-400 mb-4">Comprehensive Dashboard</h3>
                    <p class="text-gray-300">Monitor all transactions and view detailed analytics in one place.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="relative z-10 py-12 px-6 border-t border-dark-800">
        <div class="max-w-7xl mx-auto text-center">
            <div class="flex items-center justify-center space-x-2 mb-4">
                <svg class="h-6 w-6 text-primary-400" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM10 17L6 13L7.41 11.59L10 14.17L16.59 7.58L18 9L10 17Z"/>
                </svg>
                <span class="text-xl font-bold text-white">FraudShield</span>
            </div>
            <p class="text-gray-400">
                © 2025 FraudShield. All rights reserved. Protecting digital payments with AI.
                <br />
                <span class="text-sm text-gray-500 mt-2 block">
                    Developed by <span class="text-primary-400 font-semibold">sudanva</span>
                </span>
            </p>
        </div>
    </footer>

    <script>
        // 3D Background Animation
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('threejs-canvas'), alpha: true });

        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setClearColor(0x000000, 0);

        // Create floating geometric shapes
        const shapes = [];
        const geometries = [
            new THREE.SphereGeometry(0.5, 16, 16),
            new THREE.BoxGeometry(1, 1, 1),
            new THREE.OctahedronGeometry(0.7)
        ];

        const material = new THREE.MeshBasicMaterial({
            color: 0xfbbf24,
            wireframe: true,
            transparent: true,
            opacity: 0.3
        });

        // Create 20 floating shapes
        for (let i = 0; i < 20; i++) {
            const geometry = geometries[Math.floor(Math.random() * geometries.length)];
            const mesh = new THREE.Mesh(geometry, material);

            mesh.position.x = (Math.random() - 0.5) * 20;
            mesh.position.y = (Math.random() - 0.5) * 20;
            mesh.position.z = (Math.random() - 0.5) * 20;

            mesh.rotation.x = Math.random() * Math.PI;
            mesh.rotation.y = Math.random() * Math.PI;

            shapes.push({
                mesh: mesh,
                rotationSpeed: (Math.random() - 0.5) * 0.02,
                floatSpeed: (Math.random() - 0.5) * 0.001
            });

            scene.add(mesh);
        }

        camera.position.z = 15;

        // Animation loop
        function animate() {
            requestAnimationFrame(animate);

            shapes.forEach(shape => {
                shape.mesh.rotation.x += shape.rotationSpeed;
                shape.mesh.rotation.y += shape.rotationSpeed;
                shape.mesh.position.y += Math.sin(Date.now() * shape.floatSpeed) * 0.001;
            });

            renderer.render(scene, camera);
        }

        animate();

        // Handle window resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // Add some interactivity
        document.addEventListener('mousemove', (event) => {
            const mouseX = (event.clientX / window.innerWidth) * 2 - 1;
            const mouseY = -(event.clientY / window.innerHeight) * 2 + 1;

            camera.position.x = mouseX * 2;
            camera.position.y = mouseY * 2;
            camera.lookAt(0, 0, 0);
        });

        // Fraud Analysis Functionality
        async function analyzeTransaction() {
            const analyzeBtn = document.getElementById('analyze-btn');
            const resultsSection = document.getElementById('results-section');

            // Get form data
            const transactionData = {
                amount: parseFloat(document.getElementById('amount').value),
                hour: parseInt(document.getElementById('hour').value),
                merchant_category: document.getElementById('merchant_category').value,
                payment_method: document.getElementById('payment_method').value,
                customer_age: parseInt(document.getElementById('customer_age').value),
                transaction_frequency: parseInt(document.getElementById('transaction_frequency').value),
                location_risk_score: parseFloat(document.getElementById('location_risk_score').value)
            };

            // Update button state
            analyzeBtn.innerHTML = '⏳ Analyzing...';
            analyzeBtn.disabled = true;

            try {
                // Call Flask backend
                const response = await fetch('/predict', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(transactionData)
                });

                const result = await response.json();

                if (result.success) {
                    updateResults(result);
                } else {
                    throw new Error(result.error || 'Analysis failed');
                }

            } catch (error) {
                console.error('Error:', error);
                updateResults({
                    is_fraud: false,
                    fraud_probability: 0.15,
                    risk_level: 'low',
                    factors: ['Error occurred during analysis']
                });
            } finally {
                // Reset button
                analyzeBtn.innerHTML = 'Analyze Transaction';
                analyzeBtn.disabled = false;
            }
        }

        function updateResults(result) {
            const fraudStatus = document.getElementById('fraud-status');
            const fraudProbability = document.getElementById('fraud-probability');
            const riskFactors = document.getElementById('risk-factors');
            const analysisTime = document.getElementById('analysis-time');
            const resultsSection = document.getElementById('results-section');

            // Update probability display
            const probability = Math.round(result.fraud_probability * 100);
            fraudProbability.textContent = `${probability}%`;

            // Update risk level and styling
            const riskLevel = result.risk_level?.toLowerCase() || 'low';
            const isFraud = result.is_fraud;

            // Remove existing classes
            resultsSection.className = resultsSection.className.replace(/bg-\w+-900\/20/, '').replace(/border-\w+-\d+\/\d+/, '');

            if (isFraud || riskLevel === 'high') {
                fraudStatus.innerHTML = '🚨 High Risk - Fraud Detected';
                fraudStatus.className = 'text-red-400 font-semibold';
                fraudProbability.className = 'text-2xl font-bold text-red-400';
                resultsSection.className += ' bg-red-900/20 border border-red-500/30';
            } else if (riskLevel === 'medium') {
                fraudStatus.innerHTML = '⚠️ Medium Risk';
                fraudStatus.className = 'text-yellow-400 font-semibold';
                fraudProbability.className = 'text-2xl font-bold text-yellow-400';
                resultsSection.className += ' bg-yellow-900/20 border border-yellow-500/30';
            } else {
                fraudStatus.innerHTML = '✅ Low Risk - Safe';
                fraudStatus.className = 'text-green-400 font-semibold';
                fraudProbability.className = 'text-2xl font-bold text-green-400';
                resultsSection.className += ' bg-green-900/20 border border-green-500/30';
            }

            // Update risk factors
            const factors = result.factors || result.risk_factors || ['No specific risk factors identified'];
            riskFactors.innerHTML = factors.map(factor => `• ${factor}`).join('<br>');

            // Update analysis time
            const now = new Date();
            analysisTime.textContent = `Analysis completed at ${now.toLocaleTimeString()}`;

            // Add a subtle animation
            resultsSection.style.opacity = '0.7';
            setTimeout(() => {
                resultsSection.style.opacity = '1';
            }, 200);
        }

        // Auto-analyze on page load
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                analyzeTransaction();
            }, 1000);
        });
    </script>
</body>
</html>
